---
import Header from "../components/Header.astro"
import Document from "../layouts/Document.astro"
import { Icon } from "astro-icon/components"
import { first3, publishedPosts } from "../shared/posts"
import PostCard from "../components/blog/PostCard.astro"

const posts = await publishedPosts()
---

<!-- TODO: add SEO metadata -->
<Document>
    <Header size="medium" />
    <div class="mt-5 text-center md:text-left">
        <h2 class="my-0 text-2xl">
            Software developer building things with linux, typescript, rust and functional
            programming.
        </h2>
    </div>
    <h3 class="mt-8">Recent posts</h3>
    {first3(posts).map((post) => <PostCard post={post.data} />)}
    <h3>
        <a href="/blog" class="flex items-center">
            All posts
            <Icon name="box-arrow-in-right" class="ml-2" />
        </a>
    </h3>
</Document>
